<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Experience Details</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&amp;display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
    <style type="text/tailwindcss">
        :root {
            --step-completed-bg: #10b981;
            --step-completed-text: #047857;
        }
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f7f3ff;
        }
        .sidebar {
            background-color: #ede9fe;
        }
        .form-container {
            background-color: #ffffff;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .progress-step {
            display: flex;
            align-items: center;
        }
        .progress-step .step-number {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background-color: #d1d5db;
            color: #ffffff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            margin-right: 8px;
        }
        .progress-step.completed .step-number {
            background-color: var(--step-completed-bg);
        }
        .progress-step.completed .step-text {
            color: var(--step-completed-text);
            font-weight: 500;
        }
        .progress-step.active .step-number {
            background-color: #8b5cf6;
        }
         .progress-step.active .step-text {
            color: #8b5cf6;
            font-weight: 700;
        }
        .progress-line {
            height: 2px;
            background-color: #d1d5db;
            flex-grow: 1;
            margin: 0 8px;
        }
        .progress-line.completed {
             background-color: var(--step-completed-bg);
        }
        .nav-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            margin-bottom: 8px;
            color: #4b5563;
        }
        .nav-item.active {
            background-color: #d8b4fe;
            color: #6d28d9;
            font-weight: 500;
        }
        .nav-item .material-icons {
            margin-right: 12px;
        }
        .radio-option {
            display: inline-flex;
            align-items: center;
            cursor: pointer;
            padding: 8px 16px;
            border-radius: 8px;
            border: 2px solid #e5e7eb;
            transition: all 0.2s ease-in-out;
            margin-right: 12px;
        }
        .radio-option input[type="radio"] {
            display: none;
        }
        .radio-option:has(input:checked) {
            border-color: #8b5cf6;
            background-color: #f5f3ff;
        }
        .radio-option:has(input:checked) .custom-radio {
            border-color: #8b5cf6;
        }
        .radio-option:has(input:checked) .custom-radio span {
            transform: scale(1);
        }
        .custom-radio {
            width: 16px;
            height: 16px;
            border: 2px solid #d1d5db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 8px;
            transition: all 0.2s ease-in-out;
        }
        .custom-radio span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #8b5cf6;
            transform: scale(0);
            transition: transform 0.2s ease-in-out;
        }
        .radio-label {
            font-weight: 500;
            color: #374151;
            font-size: 0.9rem;
        }
        .hidden-field {
            display: none;
        }
        .experience-container {
            margin-bottom: 24px;
        }
    </style>
</head>

<body class="flex min-h-screen">
    <aside class="w-64 sidebar p-6 flex flex-col justify-between">
        <div>
            <div class="flex items-center mb-12">
                <span class="material-icons text-3xl text-purple-700 mr-2">all_inclusive</span>
                <span class="text-2xl font-bold text-gray-800">ICFAI</span>
            </div>
            <nav>
                <a class="nav-item" href="./personalInfo.html">
                    <span class="material-icons">person</span>
                    Personal Info
                </a>
                <a class="nav-item" href="./ssc.html">
                    <span class="material-icons">school</span>
                    Education
                </a>
                <a class="nav-item active" href="./expMain.html">
                    <span class="material-icons">work</span>
                    Experience
                </a>
                <a class="nav-item" href="./publicationsMain.html">
                    <span class="material-icons">article</span>
                    Publications
                </a>
                <a class="nav-item" href="./preferences.html">
                    <span class="material-icons">tune</span>
                    Preferences
                </a>
                <a class="nav-item " href="./aboutIfhe.html">
                    <span class="material-icons">info</span>
                    About IFHE
                </a>
            </nav>
        </div>
        <div class="p-4 bg-white rounded-lg shadow-md flex items-center">
            <div>
                <p class="font-semibold text-gray-800">Need a help?</p>
                <p class="text-sm text-gray-500">chat with live support</p>
            </div>
            <span class="material-icons ml-auto text-purple-600 text-3xl">headset_mic</span>
        </div>
    </aside>
    <main class="flex-1 p-8">
        <div class="flex items-center mb-8">
            <div class="progress-step completed">
                <div class="step-number">
                    <span class="material-icons text-base">check</span>
                </div>
                <div class="step-text">Personal Info</div>
            </div>
            <div class="progress-line completed"></div>
            <div class="progress-step completed">
                <div class="step-number">
                    <span class="material-icons text-base">check</span>
                </div>
                <div class="step-text">Education</div>
            </div>
            <div class="progress-line"></div>
            <div class="progress-step active">
                <div class="step-number">3</div>
                <div class="step-text">Experience</div>
            </div>
        </div>
        <div class="form-container p-8">
            <h1 class="text-2xl font-bold text-gray-800 mb-6">Experience Details</h1>
            <form id="experience-form">
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Are you currently working?</label>
                    <div class="flex items-center space-x-4">
                        <label class="radio-option">
                            <input type="radio" name="currently-working" value="yes" onchange="toggleExperienceType()">
                            <div class="custom-radio"><span></span></div>
                            <span class="radio-label">Yes</span>
                        </label>
                        <label class="radio-option">
                            <input type="radio" name="currently-working" value="no" onchange="toggleExperienceType()">
                            <div class="custom-radio"><span></span></div>
                            <span class="radio-label">No</span>
                        </label>
                    </div>
                </div>

                <div id="experiences-container">
                    <!-- Experiences will be added here dynamically -->
                </div>

                <div class="flex justify-end mb-6 hidden-field" id="add-experience-btn">
                    <button class="flex items-center text-purple-600 font-semibold hover:text-purple-800" type="button"
                        onclick="addExperience()">
                        <span class="material-icons mr-1">add_circle_outline</span>
                        Add another experience
                    </button>
                </div>
                <div class="flex justify-between mt-8 pt-8 border-t border-gray-200">
                    <button
                        class="bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-lg hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-400"
                        type="button">
                        <a href="./postDopctorial.html">Back</a>
                    </button>
                    <button
                        class="bg-purple-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500"
                        type="submit">
                        <a href="./publicationsMain.html">Save &amp; Continue</a>
                    </button>
                </div>
            </form>
        </div>

        <script>
            let experienceCount = 0;
            let isCurrentlyWorking = false;

            function toggleExperienceType() {
                const selectedValue = document.querySelector('input[name="currently-working"]:checked').value;
                isCurrentlyWorking = selectedValue === 'yes';

                // Clear existing experiences
                document.getElementById('experiences-container').innerHTML = '';
                experienceCount = 0;

                // Add first experience
                addExperience();

                // Show add experience button
                document.getElementById('add-experience-btn').classList.remove('hidden-field');
            }

            function addExperience() {
                experienceCount++;
                const experiencesContainer = document.getElementById('experiences-container');
                const isFirstExperience = experienceCount === 1;

                const experienceDiv = document.createElement('div');
                experienceDiv.className = 'experience-container border-t border-b border-gray-200 py-6 my-6';
                experienceDiv.id = `experience-${experienceCount}`;

                // Determine heading based on whether it's first experience and user is currently working
                const headingText = (isFirstExperience && isCurrentlyWorking) ? 'Current Experience' : 'Previous Experience';

                experienceDiv.innerHTML = `
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-lg font-semibold text-gray-700">${headingText}</h2>
                        ${experienceCount > 1 ? `<button type="button" class="text-red-500 hover:text-red-700" onclick="removeExperience(${experienceCount})">
                            <span class="material-icons">delete</span>
                        </button>` : ''}
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="category-${experienceCount}">Category *</label>
                            <select class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="category-${experienceCount}" name="category-${experienceCount}">
                                <option>Teaching</option>
                                                                <option>No Teaching</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="organization-name-${experienceCount}">Organization Name *</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="organization-name-${experienceCount}" name="organization-name-${experienceCount}" type="text" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="start-date-${experienceCount}">Start Date *</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="start-date-${experienceCount}" name="start-date-${experienceCount}" type="date" />
                        </div>
                        ${(isFirstExperience && isCurrentlyWorking) ? `
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="notice-period-${experienceCount}">Notice Period (days)</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="notice-period-${experienceCount}" name="notice-period-${experienceCount}" type="number" />
                        </div>
                        ` : `
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="end-date-${experienceCount}">End Date *</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="end-date-${experienceCount}" name="end-date-${experienceCount}" type="date" />
                        </div>
                        `}
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="skills-${experienceCount}">Skills / Tools / Technologies Used (If Applicable)</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="skills-${experienceCount}" name="skills-${experienceCount}" placeholder="Start typing to see results" type="text" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="area-of-work-${experienceCount}">Area of Work *</label>
                            <select class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="area-of-work-${experienceCount}" name="area-of-work-${experienceCount}">
                                <option>Select</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="role-${experienceCount}">Role</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="role-${experienceCount}" name="role-${experienceCount}" type="text" />
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="designation-${experienceCount}">Designation</label>
                            <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="designation-${experienceCount}" name="designation-${experienceCount}" type="text" />
                        </div>
                        <div class="md:col-span-2">
                            <label class="block text-sm font-medium text-gray-700 mb-1" for="remarks-${experienceCount}">Remarks</label>
                            <textarea class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="remarks-${experienceCount}" name="remarks-${experienceCount}" rows="3"></textarea>
                        </div>
                    </div>
                `;

                experiencesContainer.appendChild(experienceDiv);
            }

            function removeExperience(id) {
                const experienceToRemove = document.getElementById(`experience-${id}`);
                if (experienceToRemove) {
                    experienceToRemove.remove();
                    experienceCount--;

                    // If we removed the first experience and there are others left,
                    // we need to check if we should update the heading of the first remaining one
                    if (experienceCount > 0 && isCurrentlyWorking) {
                        const firstExperience = document.querySelector('.experience-container');
                        if (firstExperience) {
                            const heading = firstExperience.querySelector('h2');
                            if (heading) {
                                heading.textContent = 'Current Experience';

                                // Replace notice period with end date field
                                const noticePeriodDiv = firstExperience.querySelector('div:has(#notice-period-1)');
                                if (noticePeriodDiv) {
                                    noticePeriodDiv.innerHTML = `
                                        <label class="block text-sm font-medium text-gray-700 mb-1" for="end-date-1">End Date *</label>
                                        <input class="w-full border-gray-300 rounded-lg shadow-sm focus:ring-purple-500 focus:border-purple-500" id="end-date-1" name="end-date-1" type="date" />
                                    `;
                                }
                            }
                        }
                    }
                }
            }
        </script>
    </main>
</body>

</html>